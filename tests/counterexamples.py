from cozy.syntax import *
from cozy.target_syntax import *
from cozy.value_types import *

tests = []
tests.append((EBinOp(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt())), {'l': Bag(()), 'n': 0}))
tests.append((EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(ENum(0).with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), {'l': Bag((0, 3, 2)), 'n': 2}))
tests.append((EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), {'l': Bag(()), 'n': 0}))
tests.append((ECond(EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('n').with_type(TInt())).with_type(TBool()), ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt()))).with_type(TBag(TInt())), ECond(EUnaryOp('exists', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt()))).with_type(TBag(TInt())), {'l': Bag((3,)), 'n': 2}))
tests.append((EBinOp(EMapKeys(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), '-', EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), EBinOp(EMapKeys(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), '-', EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(ENum(0).with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), {'l': Bag((0, 3)), 'n': 3}))
tests.append((EBinOp(EMapKeys(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), '-', EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), {'l': Bag((2, 2)), 'n': 2}))
tests.append((EFilter(EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var484').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var484').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var484').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), ECond(EBinOp(EBool(True).with_type(TBool()), 'or', EBinOp(EVar('_var484').with_type(TInt()), 'in', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool()), EBool(True).with_type(TBool()), EBinOp(EBool(True).with_type(TBool()), '==', EBool(False).with_type(TBool())).with_type(TBool())).with_type(TBool()), EBinOp(EUnaryOp('not', EBinOp(EBool(False).with_type(TBool()), 'or', EBinOp(EVar('_var484').with_type(TInt()), 'in', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool())).with_type(TBool()), 'or', EBinOp(EBool(False).with_type(TBool()), '==', EBool(True).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EFilter(EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(ENum(0).with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var484').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var484').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var484').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), ECond(EBinOp(EBool(True).with_type(TBool()), 'or', EBinOp(EVar('_var484').with_type(TInt()), 'in', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool()), EBool(True).with_type(TBool()), EBinOp(EBool(True).with_type(TBool()), '==', EBool(False).with_type(TBool())).with_type(TBool())).with_type(TBool()), EBinOp(EUnaryOp('not', EBinOp(EBool(False).with_type(TBool()), 'or', EBinOp(EVar('_var484').with_type(TInt()), 'in', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool())).with_type(TBool()), 'or', EBinOp(EBool(False).with_type(TBool()), '==', EBool(True).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), {'l': Bag((3, 2)), 'n': 2}))
tests.append((EFilter(EUnaryOp('distinct', EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var484').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var484').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var484').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), ECond(EBinOp(EBool(True).with_type(TBool()), 'or', EBinOp(EVar('_var484').with_type(TInt()), 'in', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool()), EBool(True).with_type(TBool()), EBinOp(EBool(True).with_type(TBool()), '==', EBool(False).with_type(TBool())).with_type(TBool())).with_type(TBool()), EBinOp(EUnaryOp('not', EBinOp(EBool(False).with_type(TBool()), 'or', EBinOp(EVar('_var484').with_type(TInt()), 'in', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool())).with_type(TBool()), 'or', EBinOp(EBool(False).with_type(TBool()), '==', EBool(True).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt())), {'l': Bag(()), 'n': 0}))
tests.append((EFilter(EFilter(EMapKeys(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var2266').with_type(TInt()), EBinOp(EVar('_var2266').with_type(TInt()), '==', EVar('n').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var2266').with_type(TInt()), EBinOp(EMapGet(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var2266').with_type(TInt())).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt())), EFilter(ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), ELambda(EVar('_var2266').with_type(TInt()), EBinOp(EMapGet(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var2266').with_type(TInt())).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt())), {'l': Bag(()), 'n': 0}))
tests.append((EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt()), ENum(0).with_type(TInt()), {'l': Bag((3, 3)), 'n': 3, '_var6084': 3, '_var6085': 2}))
tests.append((EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var2779').with_type(TInt())).with_type(TInt()), ENum(0).with_type(TInt()), {'l': Bag((4, 4, 5, 6)), 'n': 4, '_var2779': 4, '_var2780': 2}))
tests.append((EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt()), ENum(1).with_type(TInt()), {'l': Bag((2, 2, 2, 2)), 'n': 2, '_var6084': 2, '_var6085': 4}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var6084').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var6084').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var6084').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt())).with_type(TBool()), EBinOp(ENum(0).with_type(TInt()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(ENum(0).with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var6084').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var6084').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var6084').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt())).with_type(TBool()), EBinOp(ENum(0).with_type(TInt()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), {'l': Bag((2, 3)), 'n': 2, '_var2267': 0}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var6084').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var6084').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var6084').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt())).with_type(TBool()), EBinOp(ENum(0).with_type(TInt()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt())), {'l': Bag((2, 2, 3, 3)), 'n': 2, '_var2267': 0}))
tests.append((EMapGet(ELet(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var8978').with_type(TBag(TInt())), EMakeMap2(EVar('_var8978').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EFilter(EVar('_var8978').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt()), EMapGet(ELet(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var8978').with_type(TBag(TInt())), EMakeMap2(EVar('_var8978').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EUnaryOp('len', EVar('_var8978').with_type(TBag(TInt()))).with_type(TInt()))).with_type(TMap(TInt(), TInt())))).with_type(TMap(TInt(), TInt())), EVar('_var6084').with_type(TInt())).with_type(TInt()), {'l': Bag((4, 5, 4, 4)), 'n': 4, '_var6084': 4, '_var6085': 3, '_var2267': 5}))
tests.append((EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool()), EBool(True).with_type(TBool()), {'l': Bag((3, 4, 5, 6)), 'n': 3, '_var12007': 3, '_var12008': True}))
tests.append((EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool()), EBool(False).with_type(TBool()), {'l': Bag(()), 'n': 4, '_var12007': 4, '_var12008': False}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var17313').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var17313').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var17313').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(ENum(0).with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var17313').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var17313').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var17313').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), {'l': Bag((0, 2)), 'n': 2, '_var2267': 0}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var12007').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var12007').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var12007').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(ENum(0).with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var12007').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var12007').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var12007').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), {'l': Bag((0, 5)), 'n': 3, '_var2267': 0}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var17313').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var17313').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var17313').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '-', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var17313').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt())), {'l': Bag((4, 4)), 'n': 4, '_var2267': 0}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var12007').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var12007').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var12007').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), {'l': Bag((4, 4)), 'n': 4, '_var2267': 0}))
tests.append((EFilter(EFilter(EMapKeys(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var2266').with_type(TInt()), EBinOp(EVar('_var2266').with_type(TInt()), '==', EVar('n').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var2266').with_type(TInt()), EMapGet(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var2266').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt())), EMap(EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var11251').with_type(TInt()), EBinOp(EVar('_var11251').with_type(TInt()), '!=', EVar('n').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var62637').with_type(TInt()), EVar('n').with_type(TInt()))).with_type(TBag(TInt())), {'l': Bag((3, 4, 5)), 'n': 0, '_var2267': 3}))
tests.append((ECond(EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var427').with_type(TInt()), EBool(True).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('n').with_type(TInt())).with_type(TBool()), ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt()))).with_type(TBag(TInt())), ECond(EStateVar(EBinOp(ENum(0).with_type(TInt()), 'in', EVar('l').with_type(TBag(TInt()))).with_type(TBool())).with_type(TBool()), ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt())), EEmptyList().with_type(TBag(TInt()))).with_type(TBag(TInt())), {'l': Bag((0,)), 'n': 2, '_var427': 0}))
tests.append((EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var12007').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var12007').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBinOp(EBinOp(EUnaryOp('len', EFilter(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var12007').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), EFilter(EMapKeys(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TBag(TInt())), ELambda(EVar('_var12007').with_type(TInt()), EBinOp(EUnaryOp('not', EHasKey(EStateVar(EMakeMap2(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EVar('l').with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool()), 'or', EUnaryOp('not', ECond(EBinOp(EVar('_var12007').with_type(TInt()), 'in', EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt()))).with_type(TBool()), EBool(True).with_type(TBool()), EBinOp(EBool(False).with_type(TBool()), '==', EMapGet(EMakeMap2(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2267').with_type(TInt()), EBinOp(EUnaryOp('len', EFilter(EBinOp(EStateVar(EVar('l').with_type(TBag(TInt()))).with_type(TBag(TInt())), '+', ESingleton(EVar('n').with_type(TInt())).with_type(TBag(TInt()))).with_type(TBag(TInt())), ELambda(EVar('_var2268').with_type(TInt()), EBinOp(EVar('_var2267').with_type(TInt()), '==', EVar('_var2268').with_type(TInt())).with_type(TBool()))).with_type(TBag(TInt()))).with_type(TInt()), '<=', ENum(1).with_type(TInt())).with_type(TBool()))).with_type(TMap(TInt(), TBool())), EVar('_var12007').with_type(TInt())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool())).with_type(TBool()))).with_type(TBag(TInt())), {'l': Bag((3, 5, 4)), 'n': 3, '_var2267': 0, '_var71738': 0, '_var73145': 0, '_var73375': 0}))
